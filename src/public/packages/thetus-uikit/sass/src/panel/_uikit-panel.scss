/*
 *  This file is responsible for wrapping the panel mixin with our own uikit functionality
 *  No edits to this file should be made that you DO NOT want propogated to other buttons!
 *  To use this mixin, please refer to the panel.scss as you can instantiate it there, think
 *  of this file as a panel constructor in that it doesn't do anything explicitly without being
 *  @included prior.
 *
 *  @author eirby & astump
 *  @edits astump 9/18/2013 - added body-padding logic & $uikit-body-padding var
 */

/*
 *  @variables
 */

@mixin uikit-panel(
    /* Start ExtJS Mixin mapping, 
     *      note that these are all of them and are uikit prefixed!
    */
    /* Shared Variables (with Sencha mixins) */
    $uikit-ui,
    $uikit-border-color: #999,
    $uikit-border-radius: null,
    $uikit-border-width: 0,
    $uikit-padding: 0,

    $uikit-header-color: #fff,
    $uikit-header-font-family: $font-family,
    $uikit-header-font-size: 12px,
    $uikit-header-font-weight: bold,
    $uikit-header-line-height: 16px,
    $uikit-header-border-color: transparent,
    $uikit-header-border-width: 0,
    $uikit-header-border-style: solid,
    $uikit-header-background-color: #008bb9,
    $uikit-header-background-gradient: null,
    $uikit-header-inner-border-color: transparent,
    $uikit-header-inner-border-width: 0,
    $uikit-header-text-padding: 0 0 0 5px,
    $uikit-header-text-transform: uppercase,
    $uikit-header-padding: 7px 10px 7px 9px,
    $uikit-header-icon-width: 16px,
    $uikit-header-icon-height: 16px,
    $uikit-header-icon-spacing: 3px,
    $uikit-header-icon-background-position: center center,
    $uikit-header-glyph-color: $uikit-header-color,
    $uikit-header-glyph-opacity: 0.9,

    $uikit-tool-spacing: 4px,
    $uikit-tool-background-image: 'tools/tool-sprites-dark',

    $uikit-body-color: #333,
    $uikit-body-border-color: #999,
    $uikit-body-border-width: 0,
    $uikit-body-border-style: solid,
    $uikit-body-background-color: #fff,
    $uikit-body-font-size: 12px,
    $uikit-body-font-weight: normal,
    $uikit-body-padding: null,

    $uikit-background-stretch-top: bottom,
    $uikit-background-stretch-bottom: top,
    $uikit-background-stretch-right: left,
    $uikit-background-stretch-left: right,

    // See the docs above
    $uikit-include-border-management-rules: false,
    $uikit-wrap-border-color: #999,
    $uikit-wrap-border-width: 0
){    
    /* MIXIN WRAPPER */
    @include extjs-panel-ui(
        $ui-label: $uikit-ui,

        $ui-border-color: $uikit-border-color,
        $ui-border-radius: $uikit-border-radius,
        $ui-border-width: $uikit-border-width,
        $ui-padding: $uikit-padding,

        $ui-header-color: $uikit-header-color,
        $ui-header-font-family: $uikit-header-font-family,
        $ui-header-font-size: $uikit-header-font-size,
        $ui-header-font-weight: $uikit-header-font-weight,
        $ui-header-line-height: $uikit-header-line-height,
        $ui-header-border-color: $uikit-header-border-color,
        $ui-header-border-width: $uikit-header-border-width,
        $ui-header-border-style: $uikit-header-border-style,
        $ui-header-background-color: $uikit-header-background-color,
        $ui-header-background-gradient: $uikit-header-background-gradient,
        $ui-header-inner-border-color: $uikit-header-inner-border-color,
        $ui-header-inner-border-width: $uikit-header-inner-border-width,
        $ui-header-text-padding: $uikit-header-text-padding,
        $ui-header-text-transform: $uikit-header-text-transform,
        $ui-header-padding: $uikit-header-padding,
        $ui-header-icon-width: $uikit-header-icon-width,
        $ui-header-icon-height: $uikit-header-icon-height,
        $ui-header-icon-spacing: $uikit-header-icon-spacing,
        $ui-header-icon-background-position: $uikit-header-icon-background-position,
        $ui-header-glyph-color: $uikit-header-glyph-color,
        $ui-header-glyph-opacity: $uikit-header-glyph-opacity,

        $ui-tool-spacing: $uikit-tool-spacing,
        $ui-tool-background-image: $uikit-tool-background-image,

        $ui-body-color: $uikit-body-color,
        $ui-body-border-color: $uikit-body-border-color,
        $ui-body-border-width: $uikit-body-border-width,
        $ui-body-border-style: $uikit-body-border-style,
        $ui-body-background-color: $uikit-body-background-color,
        $ui-body-font-size: $uikit-body-font-size,
        $ui-body-font-weight: $uikit-body-font-weight,

        $ui-background-stretch-top: $uikit-background-stretch-top,
        $ui-background-stretch-bottom: $uikit-background-stretch-bottom,
        $ui-background-stretch-right: $uikit-background-stretch-right,
        $ui-background-stretch-left: $uikit-background-stretch-left,

        // See the docs above
        $ui-include-border-management-rules: $uikit-include-border-management-rules,
        $ui-wrap-border-color: $uikit-wrap-border-color,
        $ui-wrap-border-width: $uikit-wrap-border-width
    );
    
    /* LOGIC */
    @if $uikit-body-padding != null {
        .#{$prefix}panel-body-#{$uikit-ui}{
            padding: $uikit-body-padding;
        }
    }

    .#{$prefix}tab-bar + .#{$prefix}panel-body-#{$uikit-ui} {
        .#{$prefix}panel-default-closable {
            background-color: $uikit-body-background-color;
            
            .#{$prefix}panel-body-default-closable {
                background-color: $uikit-body-background-color;
            }
        }
    }

    .#{$prefix}panel-header-#{$uikit-ui} {
        .#{$prefix}tool-img {
            background-color: transparent;
        }
    }
} 